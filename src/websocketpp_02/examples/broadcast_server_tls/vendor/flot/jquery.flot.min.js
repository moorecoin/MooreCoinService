/* javascript plotting library for jquery, v. 0.7.
 *
 * released under the mit license by iola, december 2007.
 *
 */
(function(b){b.color={};b.color.make=function(d,e,g,f){var c={};c.r=d||0;c.g=e||0;c.b=g||0;c.a=f!=null?f:1;c.add=function(h,j){for(var k=0;k<h.length;++k){c[h.charat(k)]+=j}return c.normalize()};c.scale=function(h,j){for(var k=0;k<h.length;++k){c[h.charat(k)]*=j}return c.normalize()};c.tostring=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function h(k,j,l){return j<k?k:(j>l?l:j)}c.r=h(0,parseint(c.r),255);c.g=h(0,parseint(c.g),255);c.b=h(0,parseint(c.b),255);c.a=h(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(d,e){var c;do{c=d.css(e).tolowercase();if(c!=""&&c!="transparent"){break}d=d.parent()}while(!b.nodename(d.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var d,f=b.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return f(parseint(d[1],10),parseint(d[2],10),parseint(d[3],10))}if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseint(d[1],10),parseint(d[2],10),parseint(d[3],10),parsefloat(d[4]))}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return f(parsefloat(d[1])*2.55,parsefloat(d[2])*2.55,parsefloat(d[3])*2.55)}if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parsefloat(d[1])*2.55,parsefloat(d[2])*2.55,parsefloat(d[3])*2.55,parsefloat(d[4]))}if(d=/#([a-fa-f0-9]{2})([a-fa-f0-9]{2})([a-fa-f0-9]{2})/.exec(c)){return f(parseint(d[1],16),parseint(d[2],16),parseint(d[3],16))}if(d=/#([a-fa-f0-9])([a-fa-f0-9])([a-fa-f0-9])/.exec(c)){return f(parseint(d[1]+d[1],16),parseint(d[2]+d[2],16),parseint(d[3]+d[3],16))}var e=b.trim(c).tolowercase();if(e=="transparent"){return f(255,255,255,0)}else{d=a[e]||[0,0,0];return f(d[0],d[1],d[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jquery);(function(c){function b(av,ai,j,af){var q=[],o={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,nocolumns:1,labelformatter:null,labelboxbordercolor:"#ccc",container:null,position:"ne",margin:5,backgroundcolor:null,backgroundopacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickcolor:null,transform:null,inversetransform:null,min:null,max:null,autoscalemargin:null,ticks:null,tickformatter:null,labelwidth:null,labelheight:null,reservespace:null,ticklength:null,aligntickswithaxis:null,tickdecimals:null,ticksize:null,minticksize:null,monthnames:null,timeformat:null,twelvehourclock:false},yaxis:{autoscalemargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,linewidth:2,fill:true,fillcolor:"#ffffff",symbol:"circle"},lines:{linewidth:2,fill:false,fillcolor:null,steps:false},bars:{show:false,linewidth:2,barwidth:1,fill:true,fillcolor:null,align:"left",horizontal:false},shadowsize:3},grid:{show:true,abovedata:false,color:"#545454",backgroundcolor:null,bordercolor:null,tickcolor:null,labelmargin:5,axismargin:8,borderwidth:2,minbordermargin:null,markings:null,markingscolor:"#f4f4f4",markingslinewidth:2,clickable:false,hoverable:false,autohighlight:true,mouseactiveradius:10},hooks:{}},az=null,ad=null,y=null,h=null,a=null,p=[],aw=[],q={left:0,right:0,top:0,bottom:0},g=0,i=0,h=0,w=0,ak={processoptions:[],processrawdata:[],processdatapoints:[],drawseries:[],draw:[],bindevents:[],drawoverlay:[],shutdown:[]},aq=this;aq.setdata=aj;aq.setupgrid=t;aq.draw=w;aq.getplaceholder=function(){return av};aq.getcanvas=function(){return az};aq.getplotoffset=function(){return q};aq.width=function(){return h};aq.height=function(){return w};aq.offset=function(){var ab=y.offset();ab.left+=q.left;ab.top+=q.top;return ab};aq.getdata=function(){return q};aq.getaxes=function(){var ac={},ab;c.each(p.concat(aw),function(ad,ae){if(ae){ac[ae.direction+(ae.n!=1?ae.n:"")+"axis"]=ae}});return ac};aq.getxaxes=function(){return p};aq.getyaxes=function(){return aw};aq.c2p=c;aq.p2c=ar;aq.getoptions=function(){return o};aq.highlight=x;aq.unhighlight=t;aq.triggerredrawoverlay=f;aq.pointoffset=function(ab){return{left:parseint(p[aa(ab,"x")-1].p2c(+ab.x)+q.left),top:parseint(aw[aa(ab,"y")-1].p2c(+ab.y)+q.top)}};aq.shutdown=ag;aq.resize=function(){b();g(az);g(ad)};aq.hooks=ak;f(aq);z(j);x();aj(ai);t();w();ah();function an(ad,ab){ab=[aq].concat(ab);for(var ac=0;ac<ad.length;++ac){ad[ac].apply(this,ab)}}function f(){for(var ab=0;ab<af.length;++ab){var ac=af[ab];ac.init(aq);if(ac.options){c.extend(true,o,ac.options)}}}function z(ac){var ab;c.extend(true,o,ac);if(o.xaxis.color==null){o.xaxis.color=o.grid.color}if(o.yaxis.color==null){o.yaxis.color=o.grid.color}if(o.xaxis.tickcolor==null){o.xaxis.tickcolor=o.grid.tickcolor}if(o.yaxis.tickcolor==null){o.yaxis.tickcolor=o.grid.tickcolor}if(o.grid.bordercolor==null){o.grid.bordercolor=o.grid.color}if(o.grid.tickcolor==null){o.grid.tickcolor=c.color.parse(o.grid.color).scale("a",0.22).tostring()}for(ab=0;ab<math.max(1,o.xaxes.length);++ab){o.xaxes[ab]=c.extend(true,{},o.xaxis,o.xaxes[ab])}for(ab=0;ab<math.max(1,o.yaxes.length);++ab){o.yaxes[ab]=c.extend(true,{},o.yaxis,o.yaxes[ab])}if(o.xaxis.noticks&&o.xaxis.ticks==null){o.xaxis.ticks=o.xaxis.noticks}if(o.yaxis.noticks&&o.yaxis.ticks==null){o.yaxis.ticks=o.yaxis.noticks}if(o.x2axis){o.xaxes[1]=c.extend(true,{},o.xaxis,o.x2axis);o.xaxes[1].position="top"}if(o.y2axis){o.yaxes[1]=c.extend(true,{},o.yaxis,o.y2axis);o.yaxes[1].position="right"}if(o.grid.coloredareas){o.grid.markings=o.grid.coloredareas}if(o.grid.coloredareascolor){o.grid.markingscolor=o.grid.coloredareascolor}if(o.lines){c.extend(true,o.series.lines,o.lines)}if(o.points){c.extend(true,o.series.points,o.points)}if(o.bars){c.extend(true,o.series.bars,o.bars)}if(o.shadowsize!=null){o.series.shadowsize=o.shadowsize}for(ab=0;ab<o.xaxes.length;++ab){v(p,ab+1).options=o.xaxes[ab]}for(ab=0;ab<o.yaxes.length;++ab){v(aw,ab+1).options=o.yaxes[ab]}for(var ad in ak){if(o.hooks[ad]&&o.hooks[ad].length){ak[ad]=ak[ad].concat(o.hooks[ad])}}an(ak.processoptions,[o])}function aj(ab){q=y(ab);ax();z()}function y(ae){var ac=[];for(var ab=0;ab<ae.length;++ab){var ad=c.extend(true,{},o.series);if(ae[ab].data!=null){ad.data=ae[ab].data;delete ae[ab].data;c.extend(true,ad,ae[ab]);ae[ab].data=ad.data}else{ad.data=ae[ab]}ac.push(ad)}return ac}function aa(ac,ad){var ab=ac[ad+"axis"];if(typeof ab=="object"){ab=ab.n}if(typeof ab!="number"){ab=1}return ab}function m(){return c.grep(p.concat(aw),function(ab){return ab})}function c(ae){var ac={},ab,ad;for(ab=0;ab<p.length;++ab){ad=p[ab];if(ad&&ad.used){ac["x"+ad.n]=ad.c2p(ae.left)}}for(ab=0;ab<aw.length;++ab){ad=aw[ab];if(ad&&ad.used){ac["y"+ad.n]=ad.c2p(ae.top)}}if(ac.x1!==undefined){ac.x=ac.x1}if(ac.y1!==undefined){ac.y=ac.y1}return ac}function ar(af){var ad={},ac,ae,ab;for(ac=0;ac<p.length;++ac){ae=p[ac];if(ae&&ae.used){ab="x"+ae.n;if(af[ab]==null&&ae.n==1){ab="x"}if(af[ab]!=null){ad.left=ae.p2c(af[ab]);break}}}for(ac=0;ac<aw.length;++ac){ae=aw[ac];if(ae&&ae.used){ab="y"+ae.n;if(af[ab]==null&&ae.n==1){ab="y"}if(af[ab]!=null){ad.top=ae.p2c(af[ab]);break}}}return ad}function v(ac,ab){if(!ac[ab-1]){ac[ab-1]={n:ab,direction:ac==p?"x":"y",options:c.extend(true,{},ac==p?o.xaxis:o.yaxis)}}return ac[ab-1]}function ax(){var ag;var am=q.length,ab=[],ae=[];for(ag=0;ag<q.length;++ag){var aj=q[ag].color;if(aj!=null){--am;if(typeof aj=="number"){ae.push(aj)}else{ab.push(c.color.parse(q[ag].color))}}}for(ag=0;ag<ae.length;++ag){am=math.max(am,ae[ag]+1)}var ac=[],af=0;ag=0;while(ac.length<am){var ai;if(o.colors.length==ag){ai=c.color.make(100,100,100)}else{ai=c.color.parse(o.colors[ag])}var ad=af%2==1?-1:1;ai.scale("rgb",1+ad*math.ceil(af/2)*0.2);ac.push(ai);++ag;if(ag>=o.colors.length){ag=0;++af}}var ah=0,an;for(ag=0;ag<q.length;++ag){an=q[ag];if(an.color==null){an.color=ac[ah].tostring();++ah}else{if(typeof an.color=="number"){an.color=ac[an.color].tostring()}}if(an.lines.show==null){var al,ak=true;for(al in an){if(an[al]&&an[al].show){ak=false;break}}if(ak){an.lines.show=true}}an.xaxis=v(p,aa(an,"x"));an.yaxis=v(aw,aa(an,"y"))}}function z(){var ao=number.positive_infinity,ai=number.negative_infinity,ab=number.max_value,au,as,ar,an,ad,aj,at,ap,ah,ag,ac,a0,ax,al;function af(a3,a2,a1){if(a2<a3.datamin&&a2!=-ab){a3.datamin=a2}if(a1>a3.datamax&&a1!=ab){a3.datamax=a1}}c.each(m(),function(a1,a2){a2.datamin=ao;a2.datamax=ai;a2.used=false});for(au=0;au<q.length;++au){aj=q[au];aj.datapoints={points:[]};an(ak.processrawdata,[aj,aj.data,aj.datapoints])}for(au=0;au<q.length;++au){aj=q[au];var az=aj.data,aw=aj.datapoints.format;if(!aw){aw=[];aw.push({x:true,number:true,required:true});aw.push({y:true,number:true,required:true});if(aj.bars.show||(aj.lines.show&&aj.lines.fill)){aw.push({y:true,number:true,required:false,defaultvalue:0});if(aj.bars.horizontal){delete aw[aw.length-1].y;aw[aw.length-1].x=true}}aj.datapoints.format=aw}if(aj.datapoints.pointsize!=null){continue}aj.datapoints.pointsize=aw.length;ap=aj.datapoints.pointsize;at=aj.datapoints.points;insertsteps=aj.lines.show&&aj.lines.steps;aj.xaxis.used=aj.yaxis.used=true;for(as=ar=0;as<az.length;++as,ar+=ap){al=az[as];var ae=al==null;if(!ae){for(an=0;an<ap;++an){a0=al[an];ax=aw[an];if(ax){if(ax.number&&a0!=null){a0=+a0;if(isnan(a0)){a0=null}else{if(a0==infinity){a0=ab}else{if(a0==-infinity){a0=-ab}}}}if(a0==null){if(ax.required){ae=true}if(ax.defaultvalue!=null){a0=ax.defaultvalue}}}at[ar+an]=a0}}if(ae){for(an=0;an<ap;++an){a0=at[ar+an];if(a0!=null){ax=aw[an];if(ax.x){af(aj.xaxis,a0,a0)}if(ax.y){af(aj.yaxis,a0,a0)}}at[ar+an]=null}}else{if(insertsteps&&ar>0&&at[ar-ap]!=null&&at[ar-ap]!=at[ar]&&at[ar-ap+1]!=at[ar+1]){for(an=0;an<ap;++an){at[ar+ap+an]=at[ar+an]}at[ar+1]=at[ar-ap+1];ar+=ap}}}}for(au=0;au<q.length;++au){aj=q[au];an(ak.processdatapoints,[aj,aj.datapoints])}for(au=0;au<q.length;++au){aj=q[au];at=aj.datapoints.points,ap=aj.datapoints.pointsize;var ak=ao,aq=ao,am=ai,av=ai;for(as=0;as<at.length;as+=ap){if(at[as]==null){continue}for(an=0;an<ap;++an){a0=at[as+an];ax=aw[an];if(!ax||a0==ab||a0==-ab){continue}if(ax.x){if(a0<ak){ak=a0}if(a0>am){am=a0}}if(ax.y){if(a0<aq){aq=a0}if(a0>av){av=a0}}}}if(aj.bars.show){var ay=aj.bars.align=="left"?0:-aj.bars.barwidth/2;if(aj.bars.horizontal){aq+=ay;av+=ay+aj.bars.barwidth}else{ak+=ay;am+=ay+aj.bars.barwidth}}af(aj.xaxis,ak,am);af(aj.yaxis,aq,av)}c.each(m(),function(a1,a2){if(a2.datamin==ao){a2.datamin=null}if(a2.datamax==ai){a2.datamax=null}})}function j(ab,ac){var ad=document.createelement("canvas");ad.classname=ac;ad.width=g;ad.height=i;if(!ab){c(ad).css({position:"absolute",left:0,top:0})}c(ad).appendto(av);if(!ad.getcontext){ad=window.g_vmlcanvasmanager.initelement(ad)}ad.getcontext("2d").save();return ad}function b(){g=av.width();i=av.height();if(g<=0||i<=0){throw"invalid dimensions for plot, width = "+g+", height = "+i}}function g(ac){if(ac.width!=g){ac.width=g}if(ac.height!=i){ac.height=i}var ab=ac.getcontext("2d");ab.restore();ab.save()}function x(){var ac,ab=av.children("canvas.base"),ad=av.children("canvas.overlay");if(ab.length==0||ad==0){av.html("");av.css({padding:0});if(av.css("position")=="static"){av.css("position","relative")}b();az=j(true,"base");ad=j(false,"overlay");ac=false}else{az=ab.get(0);ad=ad.get(0);ac=true}h=az.getcontext("2d");a=ad.getcontext("2d");y=c([ad,az]);if(ac){av.data("plot").shutdown();aq.resize();a.clearrect(0,0,g,i);y.unbind();av.children().not([az,ad]).remove()}av.data("plot",aq)}function ah(){if(o.grid.hoverable){y.mousemove(aa);y.mouseleave(l)}if(o.grid.clickable){y.click(r)}an(ak.bindevents,[y])}function ag(){if(m){cleartimeout(m)}y.unbind("mousemove",aa);y.unbind("mouseleave",l);y.unbind("click",r);an(ak.shutdown,[y])}function r(ag){function ac(ah){return ah}var af,ab,ad=ag.options.transform||ac,ae=ag.options.inversetransform;if(ag.direction=="x"){af=ag.scale=h/math.abs(ad(ag.max)-ad(ag.min));ab=math.min(ad(ag.max),ad(ag.min))}else{af=ag.scale=w/math.abs(ad(ag.max)-ad(ag.min));af=-af;ab=math.max(ad(ag.max),ad(ag.min))}if(ad==ac){ag.p2c=function(ah){return(ah-ab)*af}}else{ag.p2c=function(ah){return(ad(ah)-ab)*af}}if(!ae){ag.c2p=function(ah){return ab+ah/af}}else{ag.c2p=function(ah){return ae(ab+ah/af)}}}function l(ad){var ab=ad.options,af,aj=ad.ticks||[],ai=[],ae,ak=ab.labelwidth,ag=ab.labelheight,ac;function ah(am,al){return c('<div style="position:absolute;top:-10000px;'+al+'font-size:smaller"><div class="'+ad.direction+"axis "+ad.direction+ad.n+'axis">'+am.join("")+"</div></div>").appendto(av)}if(ad.direction=="x"){if(ak==null){ak=math.floor(g/(aj.length>0?aj.length:1))}if(ag==null){ai=[];for(af=0;af<aj.length;++af){ae=aj[af].label;if(ae){ai.push('<div class="ticklabel" style="float:left;width:'+ak+'px">'+ae+"</div>")}}if(ai.length>0){ai.push('<div style="clear:left"></div>');ac=ah(ai,"width:10000px;");ag=ac.height();ac.remove()}}}else{if(ak==null||ag==null){for(af=0;af<aj.length;++af){ae=aj[af].label;if(ae){ai.push('<div class="ticklabel">'+ae+"</div>")}}if(ai.length>0){ac=ah(ai,"");if(ak==null){ak=ac.children().width()}if(ag==null){ag=ac.find("div.ticklabel").height()}ac.remove()}}}if(ak==null){ak=0}if(ag==null){ag=0}ad.labelwidth=ak;ad.labelheight=ag}function au(ad){var ac=ad.labelwidth,al=ad.labelheight,ah=ad.options.position,af=ad.options.ticklength,ag=o.grid.axismargin,aj=o.grid.labelmargin,ak=ad.direction=="x"?p:aw,ae;var ab=c.grep(ak,function(an){return an&&an.options.position==ah&&an.reservespace});if(c.inarray(ad,ab)==ab.length-1){ag=0}if(af==null){af="full"}var ai=c.grep(ak,function(an){return an&&an.reservespace});var am=c.inarray(ad,ai)==0;if(!am&&af=="full"){af=5}if(!isnan(+af)){aj+=+af}if(ad.direction=="x"){al+=aj;if(ah=="bottom"){q.bottom+=al+ag;ad.box={top:i-q.bottom,height:al}}else{ad.box={top:q.top+ag,height:al};q.top+=al+ag}}else{ac+=aj;if(ah=="left"){ad.box={left:q.left+ag,width:ac};q.left+=ac+ag}else{q.right+=ac+ag;ad.box={left:g-q.right,width:ac}}}ad.position=ah;ad.ticklength=af;ad.box.padding=aj;ad.innermost=am}function u(ab){if(ab.direction=="x"){ab.box.left=q.left;ab.box.width=h}else{ab.box.top=q.top;ab.box.height=w}}function t(){var ac,ae=m();c.each(ae,function(af,ag){ag.show=ag.options.show;if(ag.show==null){ag.show=ag.used}ag.reservespace=ag.show||ag.options.reservespace;n(ag)});allocatedaxes=c.grep(ae,function(af){return af.reservespace});q.left=q.right=q.top=q.bottom=0;if(o.grid.show){c.each(allocatedaxes,function(af,ag){s(ag);p(ag);ap(ag,ag.ticks);l(ag)});for(ac=allocatedaxes.length-1;ac>=0;--ac){au(allocatedaxes[ac])}var ad=o.grid.minbordermargin;if(ad==null){ad=0;for(ac=0;ac<q.length;++ac){ad=math.max(ad,q[ac].points.radius+q[ac].points.linewidth/2)}}for(var ab in q){q[ab]+=o.grid.borderwidth;q[ab]=math.max(ad,q[ab])}}h=g-q.left-q.right;w=i-q.bottom-q.top;c.each(ae,function(af,ag){r(ag)});if(o.grid.show){c.each(allocatedaxes,function(af,ag){u(ag)});k()}o()}function n(ae){var af=ae.options,ad=+(af.min!=null?af.min:ae.datamin),ab=+(af.max!=null?af.max:ae.datamax),ah=ab-ad;if(ah==0){var ac=ab==0?1:0.01;if(af.min==null){ad-=ac}if(af.max==null||af.min!=null){ab+=ac}}else{var ag=af.autoscalemargin;if(ag!=null){if(af.min==null){ad-=ah*ag;if(ad<0&&ae.datamin!=null&&ae.datamin>=0){ad=0}}if(af.max==null){ab+=ah*ag;if(ab>0&&ae.datamax!=null&&ae.datamax<=0){ab=0}}}}ae.min=ad;ae.max=ab}function s(ag){var am=ag.options;var ah;if(typeof am.ticks=="number"&&am.ticks>0){ah=am.ticks}else{ah=0.3*math.sqrt(ag.direction=="x"?g:i)}var at=(ag.max-ag.min)/ah,ao,ab,an,ar,as,aq,ai;if(am.mode=="time"){var aj={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var ak=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var ac=0;if(am.minticksize!=null){if(typeof am.ticksize=="number"){ac=am.ticksize}else{ac=am.minticksize[0]*aj[am.minticksize[1]]}}for(var as=0;as<ak.length-1;++as){if(at<(ak[as][0]*aj[ak[as][1]]+ak[as+1][0]*aj[ak[as+1][1]])/2&&ak[as][0]*aj[ak[as][1]]>=ac){break}}ao=ak[as][0];an=ak[as][1];if(an=="year"){aq=math.pow(10,math.floor(math.log(at/aj.year)/math.ln10));ai=(at/aj.year)/aq;if(ai<1.5){ao=1}else{if(ai<3){ao=2}else{if(ai<7.5){ao=5}else{ao=10}}}ao*=aq}ag.ticksize=am.ticksize||[ao,an];ab=function(ax){var a2=[],a0=ax.ticksize[0],a3=ax.ticksize[1],a1=new date(ax.min);var aw=a0*aj[a3];if(a3=="second"){a1.setutcseconds(a(a1.getutcseconds(),a0))}if(a3=="minute"){a1.setutcminutes(a(a1.getutcminutes(),a0))}if(a3=="hour"){a1.setutchours(a(a1.getutchours(),a0))}if(a3=="month"){a1.setutcmonth(a(a1.getutcmonth(),a0))}if(a3=="year"){a1.setutcfullyear(a(a1.getutcfullyear(),a0))}a1.setutcmilliseconds(0);if(aw>=aj.minute){a1.setutcseconds(0)}if(aw>=aj.hour){a1.setutcminutes(0)}if(aw>=aj.day){a1.setutchours(0)}if(aw>=aj.day*4){a1.setutcdate(1)}if(aw>=aj.year){a1.setutcmonth(0)}var a5=0,a4=number.nan,ay;do{ay=a4;a4=a1.gettime();a2.push(a4);if(a3=="month"){if(a0<1){a1.setutcdate(1);var av=a1.gettime();a1.setutcmonth(a1.getutcmonth()+1);var az=a1.gettime();a1.settime(a4+a5*aj.hour+(az-av)*a0);a5=a1.getutchours();a1.setutchours(0)}else{a1.setutcmonth(a1.getutcmonth()+a0)}}else{if(a3=="year"){a1.setutcfullyear(a1.getutcfullyear()+a0)}else{a1.settime(a4+aw)}}}while(a4<ax.max&&a4!=ay);return a2};ar=function(av,ay){var a0=new date(av);if(am.timeformat!=null){return c.plot.formatdate(a0,am.timeformat,am.monthnames)}var aw=ay.ticksize[0]*aj[ay.ticksize[1]];var ax=ay.max-ay.min;var az=(am.twelvehourclock)?" %p":"";if(aw<aj.minute){fmt="%h:%m:%s"+az}else{if(aw<aj.day){if(ax<2*aj.day){fmt="%h:%m"+az}else{fmt="%b %d %h:%m"+az}}else{if(aw<aj.month){fmt="%b %d"}else{if(aw<aj.year){if(ax<aj.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return c.plot.formatdate(a0,fmt,am.monthnames)}}else{var au=am.tickdecimals;var ap=-math.floor(math.log(at)/math.ln10);if(au!=null&&ap>au){ap=au}aq=math.pow(10,-ap);ai=at/aq;if(ai<1.5){ao=1}else{if(ai<3){ao=2;if(ai>2.25&&(au==null||ap+1<=au)){ao=2.5;++ap}}else{if(ai<7.5){ao=5}else{ao=10}}}ao*=aq;if(am.minticksize!=null&&ao<am.minticksize){ao=am.minticksize}ag.tickdecimals=math.max(0,au!=null?au:ap);ag.ticksize=am.ticksize||ao;ab=function(ax){var az=[];var a0=a(ax.min,ax.ticksize),aw=0,av=number.nan,ay;do{ay=av;av=a0+aw*ax.ticksize;az.push(av);++aw}while(av<ax.max&&av!=ay);return az};ar=function(av,aw){return av.tofixed(aw.tickdecimals)}}if(am.aligntickswithaxis!=null){var af=(ag.direction=="x"?p:aw)[am.aligntickswithaxis-1];if(af&&af.used&&af!=ag){var al=ab(ag);if(al.length>0){if(am.min==null){ag.min=math.min(ag.min,al[0])}if(am.max==null&&al.length>1){ag.max=math.max(ag.max,al[al.length-1])}}ab=function(ax){var ay=[],av,aw;for(aw=0;aw<af.ticks.length;++aw){av=(af.ticks[aw].v-af.min)/(af.max-af.min);av=ax.min+av*(ax.max-ax.min);ay.push(av)}return ay};if(ag.mode!="time"&&am.tickdecimals==null){var ae=math.max(0,-math.floor(math.log(at)/math.ln10)+1),ad=ab(ag);if(!(ad.length>1&&/\..*0$/.test((ad[1]-ad[0]).tofixed(ae)))){ag.tickdecimals=ae}}}}ag.tickgenerator=ab;if(c.isfunction(am.tickformatter)){ag.tickformatter=function(av,aw){return""+am.tickformatter(av,aw)}}else{ag.tickformatter=ar}}function p(af){var ah=af.options.ticks,ag=[];if(ah==null||(typeof ah=="number"&&ah>0)){ag=af.tickgenerator(af)}else{if(ah){if(c.isfunction(ah)){ag=ah({min:af.min,max:af.max})}else{ag=ah}}}var ae,ab;af.ticks=[];for(ae=0;ae<ag.length;++ae){var ac=null;var ad=ag[ae];if(typeof ad=="object"){ab=+ad[0];if(ad.length>1){ac=ad[1]}}else{ab=+ad}if(ac==null){ac=af.tickformatter(ab,af)}if(!isnan(ab)){af.ticks.push({v:ab,label:ac})}}}function ap(ab,ac){if(ab.options.autoscalemargin&&ac.length>0){if(ab.options.min==null){ab.min=math.min(ab.min,ac[0].v)}if(ab.options.max==null&&ac.length>1){ab.max=math.max(ab.max,ac[ac.length-1].v)}}}function w(){h.clearrect(0,0,g,i);var ac=o.grid;if(ac.show&&ac.backgroundcolor){n()}if(ac.show&&!ac.abovedata){ac()}for(var ab=0;ab<q.length;++ab){an(ak.drawseries,[h,q[ab]]);d(q[ab])}an(ak.draw,[h]);if(ac.show&&ac.abovedata){ac()}}function d(ab,ai){var ae,ah,ag,ad,af=m();for(i=0;i<af.length;++i){ae=af[i];if(ae.direction==ai){ad=ai+ae.n+"axis";if(!ab[ad]&&ae.n==1){ad=ai+"axis"}if(ab[ad]){ah=ab[ad].from;ag=ab[ad].to;break}}}if(!ab[ad]){ae=ai=="x"?p[0]:aw[0];ah=ab[ai+"1"];ag=ab[ai+"2"]}if(ah!=null&&ag!=null&&ah>ag){var ac=ah;ah=ag;ag=ac}return{from:ah,to:ag,axis:ae}}function n(){h.save();h.translate(q.left,q.top);h.fillstyle=am(o.grid.backgroundcolor,w,0,"rgba(255, 255, 255, 0)");h.fillrect(0,0,h,w);h.restore()}function ac(){var af;h.save();h.translate(q.left,q.top);var ah=o.grid.markings;if(ah){if(c.isfunction(ah)){var ak=aq.getaxes();ak.xmin=ak.xaxis.min;ak.xmax=ak.xaxis.max;ak.ymin=ak.yaxis.min;ak.ymax=ak.yaxis.max;ah=ah(ak)}for(af=0;af<ah.length;++af){var ad=ah[af],ac=d(ad,"x"),ai=d(ad,"y");if(ac.from==null){ac.from=ac.axis.min}if(ac.to==null){ac.to=ac.axis.max}if(ai.from==null){ai.from=ai.axis.min}if(ai.to==null){ai.to=ai.axis.max}if(ac.to<ac.axis.min||ac.from>ac.axis.max||ai.to<ai.axis.min||ai.from>ai.axis.max){continue}ac.from=math.max(ac.from,ac.axis.min);ac.to=math.min(ac.to,ac.axis.max);ai.from=math.max(ai.from,ai.axis.min);ai.to=math.min(ai.to,ai.axis.max);if(ac.from==ac.to&&ai.from==ai.to){continue}ac.from=ac.axis.p2c(ac.from);ac.to=ac.axis.p2c(ac.to);ai.from=ai.axis.p2c(ai.from);ai.to=ai.axis.p2c(ai.to);if(ac.from==ac.to||ai.from==ai.to){h.beginpath();h.strokestyle=ad.color||o.grid.markingscolor;h.linewidth=ad.linewidth||o.grid.markingslinewidth;h.moveto(ac.from,ai.from);h.lineto(ac.to,ai.to);h.stroke()}else{h.fillstyle=ad.color||o.grid.markingscolor;h.fillrect(ac.from,ai.to,ac.to-ac.from,ai.from-ai.to)}}}var ak=m(),am=o.grid.borderwidth;for(var ae=0;ae<ak.length;++ae){var ab=ak[ae],ag=ab.box,aq=ab.ticklength,an,al,ap,aj;if(!ab.show||ab.ticks.length==0){continue}h.strokestyle=ab.options.tickcolor||c.color.parse(ab.options.color).scale("a",0.22).tostring();h.linewidth=1;if(ab.direction=="x"){an=0;if(aq=="full"){al=(ab.position=="top"?0:w)}else{al=ag.top-q.top+(ab.position=="top"?ag.height:0)}}else{al=0;if(aq=="full"){an=(ab.position=="left"?0:h)}else{an=ag.left-q.left+(ab.position=="left"?ag.width:0)}}if(!ab.innermost){h.beginpath();ap=aj=0;if(ab.direction=="x"){ap=h}else{aj=w}if(h.linewidth==1){an=math.floor(an)+0.5;al=math.floor(al)+0.5}h.moveto(an,al);h.lineto(an+ap,al+aj);h.stroke()}h.beginpath();for(af=0;af<ab.ticks.length;++af){var ao=ab.ticks[af].v;ap=aj=0;if(ao<ab.min||ao>ab.max||(aq=="full"&&am>0&&(ao==ab.min||ao==ab.max))){continue}if(ab.direction=="x"){an=ab.p2c(ao);aj=aq=="full"?-w:aq;if(ab.position=="top"){aj=-aj}}else{al=ab.p2c(ao);ap=aq=="full"?-h:aq;if(ab.position=="left"){ap=-ap}}if(h.linewidth==1){if(ab.direction=="x"){an=math.floor(an)+0.5}else{al=math.floor(al)+0.5}}h.moveto(an,al);h.lineto(an+ap,al+aj)}h.stroke()}if(am){h.linewidth=am;h.strokestyle=o.grid.bordercolor;h.strokerect(-am/2,-am/2,h+am,w+am)}h.restore()}function k(){av.find(".ticklabels").remove();var ag=['<div class="ticklabels" style="font-size:smaller">'];var aj=m();for(var ad=0;ad<aj.length;++ad){var ac=aj[ad],af=ac.box;if(!ac.show){continue}ag.push('<div class="'+ac.direction+"axis "+ac.direction+ac.n+'axis" style="color:'+ac.options.color+'">');for(var ae=0;ae<ac.ticks.length;++ae){var ah=ac.ticks[ae];if(!ah.label||ah.v<ac.min||ah.v>ac.max){continue}var ak={},ai;if(ac.direction=="x"){ai="center";ak.left=math.round(q.left+ac.p2c(ah.v)-ac.labelwidth/2);if(ac.position=="bottom"){ak.top=af.top+af.padding}else{ak.bottom=i-(af.top+af.height-af.padding)}}else{ak.top=math.round(q.top+ac.p2c(ah.v)-ac.labelheight/2);if(ac.position=="left"){ak.right=g-(af.left+af.width-af.padding);ai="right"}else{ak.left=af.left+af.padding;ai="left"}}ak.width=ac.labelwidth;var ab=["position:absolute","text-align:"+ai];for(var al in ak){ab.push(al+":"+ak[al]+"px")}ag.push('<div class="ticklabel" style="'+ab.join(";")+'">'+ah.label+"</div>")}ag.push("</div>")}ag.push("</div>");av.append(ag.join(""))}function d(ab){if(ab.lines.show){at(ab)}if(ab.bars.show){e(ab)}if(ab.points.show){ao(ab)}}function at(ae){function ad(ap,aq,ai,au,at){var av=ap.points,aj=ap.pointsize,an=null,am=null;h.beginpath();for(var ao=aj;ao<av.length;ao+=aj){var al=av[ao-aj],as=av[ao-aj+1],ak=av[ao],ar=av[ao+1];if(al==null||ak==null){continue}if(as<=ar&&as<at.min){if(ar<at.min){continue}al=(at.min-as)/(ar-as)*(ak-al)+al;as=at.min}else{if(ar<=as&&ar<at.min){if(as<at.min){continue}ak=(at.min-as)/(ar-as)*(ak-al)+al;ar=at.min}}if(as>=ar&&as>at.max){if(ar>at.max){continue}al=(at.max-as)/(ar-as)*(ak-al)+al;as=at.max}else{if(ar>=as&&ar>at.max){if(as>at.max){continue}ak=(at.max-as)/(ar-as)*(ak-al)+al;ar=at.max}}if(al<=ak&&al<au.min){if(ak<au.min){continue}as=(au.min-al)/(ak-al)*(ar-as)+as;al=au.min}else{if(ak<=al&&ak<au.min){if(al<au.min){continue}ar=(au.min-al)/(ak-al)*(ar-as)+as;ak=au.min}}if(al>=ak&&al>au.max){if(ak>au.max){continue}as=(au.max-al)/(ak-al)*(ar-as)+as;al=au.max}else{if(ak>=al&&ak>au.max){if(al>au.max){continue}ar=(au.max-al)/(ak-al)*(ar-as)+as;ak=au.max}}if(al!=an||as!=am){h.moveto(au.p2c(al)+aq,at.p2c(as)+ai)}an=ak;am=ar;h.lineto(au.p2c(ak)+aq,at.p2c(ar)+ai)}h.stroke()}function af(ai,aq,ap){var aw=ai.points,av=ai.pointsize,an=math.min(math.max(0,ap.min),ap.max),ax=0,au,at=false,am=1,al=0,ar=0;while(true){if(av>0&&ax>aw.length+av){break}ax+=av;var az=aw[ax-av],ak=aw[ax-av+am],ay=aw[ax],aj=aw[ax+am];if(at){if(av>0&&az!=null&&ay==null){ar=ax;av=-av;am=2;continue}if(av<0&&ax==al+av){h.fill();at=false;av=-av;am=1;ax=al=ar+av;continue}}if(az==null||ay==null){continue}if(az<=ay&&az<aq.min){if(ay<aq.min){continue}ak=(aq.min-az)/(ay-az)*(aj-ak)+ak;az=aq.min}else{if(ay<=az&&ay<aq.min){if(az<aq.min){continue}aj=(aq.min-az)/(ay-az)*(aj-ak)+ak;ay=aq.min}}if(az>=ay&&az>aq.max){if(ay>aq.max){continue}ak=(aq.max-az)/(ay-az)*(aj-ak)+ak;az=aq.max}else{if(ay>=az&&ay>aq.max){if(az>aq.max){continue}aj=(aq.max-az)/(ay-az)*(aj-ak)+ak;ay=aq.max}}if(!at){h.beginpath();h.moveto(aq.p2c(az),ap.p2c(an));at=true}if(ak>=ap.max&&aj>=ap.max){h.lineto(aq.p2c(az),ap.p2c(ap.max));h.lineto(aq.p2c(ay),ap.p2c(ap.max));continue}else{if(ak<=ap.min&&aj<=ap.min){h.lineto(aq.p2c(az),ap.p2c(ap.min));h.lineto(aq.p2c(ay),ap.p2c(ap.min));continue}}var ao=az,as=ay;if(ak<=aj&&ak<ap.min&&aj>=ap.min){az=(ap.min-ak)/(aj-ak)*(ay-az)+az;ak=ap.min}else{if(aj<=ak&&aj<ap.min&&ak>=ap.min){ay=(ap.min-ak)/(aj-ak)*(ay-az)+az;aj=ap.min}}if(ak>=aj&&ak>ap.max&&aj<=ap.max){az=(ap.max-ak)/(aj-ak)*(ay-az)+az;ak=ap.max}else{if(aj>=ak&&aj>ap.max&&ak<=ap.max){ay=(ap.max-ak)/(aj-ak)*(ay-az)+az;aj=ap.max}}if(az!=ao){h.lineto(aq.p2c(ao),ap.p2c(ak))}h.lineto(aq.p2c(az),ap.p2c(ak));h.lineto(aq.p2c(ay),ap.p2c(aj));if(ay!=as){h.lineto(aq.p2c(ay),ap.p2c(aj));h.lineto(aq.p2c(as),ap.p2c(aj))}}}h.save();h.translate(q.left,q.top);h.linejoin="round";var ag=ae.lines.linewidth,ab=ae.shadowsize;if(ag>0&&ab>0){h.linewidth=ab;h.strokestyle="rgba(0,0,0,0.1)";var ah=math.pi/18;ad(ae.datapoints,math.sin(ah)*(ag/2+ab/2),math.cos(ah)*(ag/2+ab/2),ae.xaxis,ae.yaxis);h.linewidth=ab/2;ad(ae.datapoints,math.sin(ah)*(ag/2+ab/4),math.cos(ah)*(ag/2+ab/4),ae.xaxis,ae.yaxis)}h.linewidth=ag;h.strokestyle=ae.color;var ac=ae(ae.lines,ae.color,0,w);if(ac){h.fillstyle=ac;af(ae.datapoints,ae.xaxis,ae.yaxis)}if(ag>0){ad(ae.datapoints,0,0,ae.xaxis,ae.yaxis)}h.restore()}function ao(ae){function ah(an,am,au,ak,as,at,aq,aj){var ar=an.points,ai=an.pointsize;for(var al=0;al<ar.length;al+=ai){var ap=ar[al],ao=ar[al+1];if(ap==null||ap<at.min||ap>at.max||ao<aq.min||ao>aq.max){continue}h.beginpath();ap=at.p2c(ap);ao=aq.p2c(ao)+ak;if(aj=="circle"){h.arc(ap,ao,am,0,as?math.pi:math.pi*2,false)}else{aj(h,ap,ao,am,as)}h.closepath();if(au){h.fillstyle=au;h.fill()}h.stroke()}}h.save();h.translate(q.left,q.top);var ag=ae.points.linewidth,ac=ae.shadowsize,ab=ae.points.radius,af=ae.points.symbol;if(ag>0&&ac>0){var ad=ac/2;h.linewidth=ad;h.strokestyle="rgba(0,0,0,0.1)";ah(ae.datapoints,ab,null,ad+ad/2,true,ae.xaxis,ae.yaxis,af);h.strokestyle="rgba(0,0,0,0.2)";ah(ae.datapoints,ab,null,ad/2,true,ae.xaxis,ae.yaxis,af)}h.linewidth=ag;h.strokestyle=ae.color;ah(ae.datapoints,ab,ae(ae.points,ae.color),0,false,ae.xaxis,ae.yaxis,af);h.restore()}function e(an,am,av,ai,aq,af,ad,al,ak,au,ar,ac){var ae,at,aj,ap,ag,ab,ao,ah,as;if(ar){ah=ab=ao=true;ag=false;ae=av;at=an;ap=am+ai;aj=am+aq;if(at<ae){as=at;at=ae;ae=as;ag=true;ab=false}}else{ag=ab=ao=true;ah=false;ae=an+ai;at=an+aq;aj=av;ap=am;if(ap<aj){as=ap;ap=aj;aj=as;ah=true;ao=false}}if(at<al.min||ae>al.max||ap<ak.min||aj>ak.max){return}if(ae<al.min){ae=al.min;ag=false}if(at>al.max){at=al.max;ab=false}if(aj<ak.min){aj=ak.min;ah=false}if(ap>ak.max){ap=ak.max;ao=false}ae=al.p2c(ae);aj=ak.p2c(aj);at=al.p2c(at);ap=ak.p2c(ap);if(ad){au.beginpath();au.moveto(ae,aj);au.lineto(ae,ap);au.lineto(at,ap);au.lineto(at,aj);au.fillstyle=ad(aj,ap);au.fill()}if(ac>0&&(ag||ab||ao||ah)){au.beginpath();au.moveto(ae,aj+af);if(ag){au.lineto(ae,ap+af)}else{au.moveto(ae,ap+af)}if(ao){au.lineto(at,ap+af)}else{au.moveto(at,ap+af)}if(ab){au.lineto(at,aj+af)}else{au.moveto(at,aj+af)}if(ah){au.lineto(ae,aj+af)}else{au.moveto(ae,aj+af)}au.stroke()}}function e(ad){function ac(aj,ai,al,ag,ak,an,am){var ao=aj.points,af=aj.pointsize;for(var ah=0;ah<ao.length;ah+=af){if(ao[ah]==null){continue}e(ao[ah],ao[ah+1],ao[ah+2],ai,al,ag,ak,an,am,h,ad.bars.horizontal,ad.bars.linewidth)}}h.save();h.translate(q.left,q.top);h.linewidth=ad.bars.linewidth;h.strokestyle=ad.color;var ab=ad.bars.align=="left"?0:-ad.bars.barwidth/2;var ae=ad.bars.fill?function(af,ag){return ae(ad.bars,ad.color,af,ag)}:null;ac(ad.datapoints,ab,ab+ad.bars.barwidth,0,ae,ad.xaxis,ad.yaxis);h.restore()}function ae(ad,ab,ac,af){var ae=ad.fill;if(!ae){return null}if(ad.fillcolor){return am(ad.fillcolor,ac,af,ab)}var ag=c.color.parse(ab);ag.a=typeof ae=="number"?ae:0.4;ag.normalize();return ag.tostring()}function o(){av.find(".legend").remove();if(!o.legend.show){return}var ah=[],af=false,an=o.legend.labelformatter,am,aj;for(var ae=0;ae<q.length;++ae){am=q[ae];aj=am.label;if(!aj){continue}if(ae%o.legend.nocolumns==0){if(af){ah.push("</tr>")}ah.push("<tr>");af=true}if(an){aj=an(aj,am)}ah.push('<td class="legendcolorbox"><div style="border:1px solid '+o.legend.labelboxbordercolor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+am.color+';overflow:hidden"></div></div></td><td class="legendlabel">'+aj+"</td>")}if(af){ah.push("</tr>")}if(ah.length==0){return}var al='<table style="font-size:smaller;color:'+o.grid.color+'">'+ah.join("")+"</table>";if(o.legend.container!=null){c(o.legend.container).html(al)}else{var ai="",ac=o.legend.position,ad=o.legend.margin;if(ad[0]==null){ad=[ad,ad]}if(ac.charat(0)=="n"){ai+="top:"+(ad[1]+q.top)+"px;"}else{if(ac.charat(0)=="s"){ai+="bottom:"+(ad[1]+q.bottom)+"px;"}}if(ac.charat(1)=="e"){ai+="right:"+(ad[0]+q.right)+"px;"}else{if(ac.charat(1)=="w"){ai+="left:"+(ad[0]+q.left)+"px;"}}var ak=c('<div class="legend">'+al.replace('style="','style="position:absolute;'+ai+";")+"</div>").appendto(av);if(o.legend.backgroundopacity!=0){var ag=o.legend.backgroundcolor;if(ag==null){ag=o.grid.backgroundcolor;if(ag&&typeof ag=="string"){ag=c.color.parse(ag)}else{ag=c.color.extract(ak,"background-color")}ag.a=1;ag=ag.tostring()}var ab=ak.children();c('<div style="position:absolute;width:'+ab.width()+"px;height:"+ab.height()+"px;"+ai+"background-color:"+ag+';"> </div>').prependto(ak).css("opacity",o.legend.backgroundopacity)}}}var ab=[],m=null;function k(ai,ag,ad){var ao=o.grid.mouseactiveradius,a0=ao*ao+1,ay=null,ar=false,aw,au;for(aw=q.length-1;aw>=0;--aw){if(!ad(q[aw])){continue}var ap=q[aw],ah=ap.xaxis,af=ap.yaxis,av=ap.datapoints.points,at=ap.datapoints.pointsize,aq=ah.c2p(ai),an=af.c2p(ag),ac=ao/ah.scale,ab=ao/af.scale;if(ah.options.inversetransform){ac=number.max_value}if(af.options.inversetransform){ab=number.max_value}if(ap.lines.show||ap.points.show){for(au=0;au<av.length;au+=at){var ak=av[au],aj=av[au+1];if(ak==null){continue}if(ak-aq>ac||ak-aq<-ac||aj-an>ab||aj-an<-ab){continue}var am=math.abs(ah.p2c(ak)-ai),al=math.abs(af.p2c(aj)-ag),as=am*am+al*al;if(as<a0){a0=as;ay=[aw,au/at]}}}if(ap.bars.show&&!ay){var ae=ap.bars.align=="left"?0:-ap.bars.barwidth/2,ax=ae+ap.bars.barwidth;for(au=0;au<av.length;au+=at){var ak=av[au],aj=av[au+1],az=av[au+2];if(ak==null){continue}if(q[aw].bars.horizontal?(aq<=math.max(az,ak)&&aq>=math.min(az,ak)&&an>=aj+ae&&an<=aj+ax):(aq>=ak+ae&&aq<=ak+ax&&an>=math.min(az,aj)&&an<=math.max(az,aj))){ay=[aw,au/at]}}}}if(ay){aw=ay[0];au=ay[1];at=q[aw].datapoints.pointsize;return{datapoint:q[aw].datapoints.points.slice(au*at,(au+1)*at),dataindex:au,series:q[aw],seriesindex:aw}}return null}function aa(ab){if(o.grid.hoverable){u("plothover",ab,function(ac){return ac.hoverable!=false})}}function l(ab){if(o.grid.hoverable){u("plothover",ab,function(ac){return false})}}function r(ab){u("plotclick",ab,function(ac){return ac.clickable!=false})}function u(ac,ab,ad){var ae=y.offset(),ah=ab.pagex-ae.left-q.left,af=ab.pagey-ae.top-q.top,aj=c({left:ah,top:af});aj.pagex=ab.pagex;aj.pagey=ab.pagey;var ak=k(ah,af,ad);if(ak){ak.pagex=parseint(ak.series.xaxis.p2c(ak.datapoint[0])+ae.left+q.left);ak.pagey=parseint(ak.series.yaxis.p2c(ak.datapoint[1])+ae.top+q.top)}if(o.grid.autohighlight){for(var ag=0;ag<ab.length;++ag){var ai=ab[ag];if(ai.auto==ac&&!(ak&&ai.series==ak.series&&ai.point[0]==ak.datapoint[0]&&ai.point[1]==ak.datapoint[1])){t(ai.series,ai.point)}}if(ak){x(ak.series,ak.datapoint,ac)}}av.trigger(ac,[aj,ak])}function f(){if(!m){m=settimeout(s,30)}}function s(){m=null;a.save();a.clearrect(0,0,g,i);a.translate(q.left,q.top);var ac,ab;for(ac=0;ac<ab.length;++ac){ab=ab[ac];if(ab.series.bars.show){v(ab.series,ab.point)}else{ay(ab.series,ab.point)}}a.restore();an(ak.drawoverlay,[a])}function x(ad,ab,af){if(typeof ad=="number"){ad=q[ad]}if(typeof ab=="number"){var ae=ad.datapoints.pointsize;ab=ad.datapoints.points.slice(ae*ab,ae*(ab+1))}var ac=al(ad,ab);if(ac==-1){ab.push({series:ad,point:ab,auto:af});f()}else{if(!af){ab[ac].auto=false}}}function t(ad,ab){if(ad==null&&ab==null){ab=[];f()}if(typeof ad=="number"){ad=q[ad]}if(typeof ab=="number"){ab=ad.data[ab]}var ac=al(ad,ab);if(ac!=-1){ab.splice(ac,1);f()}}function al(ad,ae){for(var ab=0;ab<ab.length;++ab){var ac=ab[ab];if(ac.series==ad&&ac.point[0]==ae[0]&&ac.point[1]==ae[1]){return ab}}return -1}function ay(ae,ad){var ac=ad[0],ai=ad[1],ah=ae.xaxis,ag=ae.yaxis;if(ac<ah.min||ac>ah.max||ai<ag.min||ai>ag.max){return}var af=ae.points.radius+ae.points.linewidth/2;a.linewidth=af;a.strokestyle=c.color.parse(ae.color).scale("a",0.5).tostring();var ab=1.5*af,ac=ah.p2c(ac),ai=ag.p2c(ai);a.beginpath();if(ae.points.symbol=="circle"){a.arc(ac,ai,ab,0,2*math.pi,false)}else{ae.points.symbol(a,ac,ai,ab,false)}a.closepath();a.stroke()}function v(ae,ab){a.linewidth=ae.bars.linewidth;a.strokestyle=c.color.parse(ae.color).scale("a",0.5).tostring();var ad=c.color.parse(ae.color).scale("a",0.5).tostring();var ac=ae.bars.align=="left"?0:-ae.bars.barwidth/2;e(ab[0],ab[1],ab[2]||0,ac,ac+ae.bars.barwidth,0,function(){return ad},ae.xaxis,ae.yaxis,a,ae.bars.horizontal,ae.bars.linewidth)}function am(aj,ab,ah,ac){if(typeof aj=="string"){return aj}else{var ai=h.createlineargradient(0,ah,0,ab);for(var ae=0,ad=aj.colors.length;ae<ad;++ae){var af=aj.colors[ae];if(typeof af!="string"){var ag=c.color.parse(ac);if(af.brightness!=null){ag=ag.scale("rgb",af.brightness)}if(af.opacity!=null){ag.a*=af.opacity}af=ag.tostring()}ai.addcolorstop(ae/(ad-1),af)}return ai}}}c.plot=function(g,e,d){var f=new b(c(g),e,d,c.plot.plugins);return f};c.plot.version="0.7";c.plot.plugins=[];c.plot.formatdate=function(l,f,h){var o=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var p=false,j=false;var n=l.getutchours();var k=n<12;if(h==null){h=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"]}if(f.search(/%p|%p/)!=-1){if(n>12){n=n-12}else{if(n==0){n=12}}}for(var g=0;g<f.length;++g){var m=f.charat(g);if(p){switch(m){case"h":m=""+n;break;case"h":m=o(n);break;case"m":m=o(l.getutcminutes());break;case"s":m=o(l.getutcseconds());break;case"d":m=""+l.getutcdate();break;case"m":m=""+(l.getutcmonth()+1);break;case"y":m=""+l.getutcfullyear();break;case"b":m=""+h[l.getutcmonth()];break;case"p":m=(k)?("am"):("pm");break;case"p":m=(k)?("am"):("pm");break;case"0":m="";j=true;break}if(m&&j){m=o(m);j=false}e.push(m);if(!j){p=false}}else{if(m=="%"){p=true}else{e.push(m)}}}return e.join("")};function a(e,d){return d*math.floor(e/d)}})(jquery);