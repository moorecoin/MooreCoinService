(function(i){i.fn.drag=function(j,k,l){if(k){this.bind("dragstart",j)}if(l){this.bind("dragend",l)}return !j?this.trigger("drag"):this.bind("drag",k?k:j)};var d=i.event,c=d.special,h=c.drag={not:":input",distance:0,which:1,dragging:false,setup:function(j){j=i.extend({distance:h.distance,which:h.which,not:h.not},j||{});j.distance=e(j.distance);d.add(this,"mousedown",f,j);if(this.attachevent){this.attachevent("ondragstart",a)}},teardown:function(){d.remove(this,"mousedown",f);if(this===h.dragging){h.dragging=h.proxy=false}g(this,true);if(this.detachevent){this.detachevent("ondragstart",a)}}};c.dragstart=c.dragend={setup:function(){},teardown:function(){}};function f(j){var k=this,l,m=j.data||{};if(m.elem){k=j.dragtarget=m.elem;j.dragproxy=h.proxy||k;j.cursoroffsetx=m.pagex-m.left;j.cursoroffsety=m.pagey-m.top;j.offsetx=j.pagex-j.cursoroffsetx;j.offsety=j.pagey-j.cursoroffsety}else{if(h.dragging||(m.which>0&&j.which!=m.which)||i(j.target).is(m.not)){return}}switch(j.type){case"mousedown":i.extend(m,i(k).offset(),{elem:k,target:j.target,pagex:j.pagex,pagey:j.pagey});d.add(document,"mousemove mouseup",f,m);g(k,false);h.dragging=null;return false;case !h.dragging&&"mousemove":if(e(j.pagex-m.pagex)+e(j.pagey-m.pagey)<m.distance){break}j.target=m.target;l=b(j,"dragstart",k);if(l!==false){h.dragging=k;h.proxy=j.dragproxy=i(l||k)[0]}case"mousemove":if(h.dragging){l=b(j,"drag",k);if(c.drop){c.drop.allowed=(l!==false);c.drop.handler(j)}if(l!==false){break}j.type="mouseup"}case"mouseup":d.remove(document,"mousemove mouseup",f);if(h.dragging){if(c.drop){c.drop.handler(j)}b(j,"dragend",k)}g(k,true);h.dragging=h.proxy=m.elem=false;break}return true}function b(m,k,j){m.type=k;var l=i.event.handle.call(j,m);return l===false?false:l||m.result}function e(j){return math.pow(j,2)}function a(){return(h.dragging===false)}function g(j,k){if(!j){return}j.unselectable=k?"off":"on";j.onselectstart=function(){return k};if(j.style){j.style.mozuserselect=k?"":"none"}}})(jquery);(function(f){var e=["dommousescroll","mousewheel"];f.event.special.mousewheel={setup:function(){if(this.addeventlistener){for(var a=e.length;a;){this.addeventlistener(e[--a],d,false)}}else{this.onmousewheel=d}},teardown:function(){if(this.removeeventlistener){for(var a=e.length;a;){this.removeeventlistener(e[--a],d,false)}}else{this.onmousewheel=null}}};f.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function d(b){var h=[].slice.call(arguments,1),a=0,c=true;b=f.event.fix(b||window.event);b.type="mousewheel";if(b.wheeldelta){a=b.wheeldelta/120}if(b.detail){a=-b.detail/3}h.unshift(b,a);return f.event.handle.apply(this,h)}})(jquery);(function(b){var a={xaxis:{zoomrange:null,panrange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,cursor:"move",framerate:20}};function c(o){function m(q,p){var r=o.offset();r.left=q.pagex-r.left;r.top=q.pagey-r.top;if(p){o.zoomout({center:r})}else{o.zoom({center:r})}}function d(p,q){m(p,q<0);return false}var i="default",g=0,e=0,n=null;function f(p){if(p.which!=1){return false}var q=o.getplaceholder().css("cursor");if(q){i=q}o.getplaceholder().css("cursor",o.getoptions().pan.cursor);g=p.pagex;e=p.pagey}function j(q){var p=o.getoptions().pan.framerate;if(n||!p){return}n=settimeout(function(){o.pan({left:g-q.pagex,top:e-q.pagey});g=q.pagex;e=q.pagey;n=null},1/p*1000)}function h(p){if(n){cleartimeout(n);n=null}o.getplaceholder().css("cursor",i);o.pan({left:g-p.pagex,top:e-p.pagey})}function l(q,p){var r=q.getoptions();if(r.zoom.interactive){p[r.zoom.trigger](m);p.mousewheel(d)}if(r.pan.interactive){p.bind("dragstart",{distance:10},f);p.bind("drag",j);p.bind("dragend",h)}}o.zoomout=function(p){if(!p){p={}}if(!p.amount){p.amount=o.getoptions().zoom.amount}p.amount=1/p.amount;o.zoom(p)};o.zoom=function(q){if(!q){q={}}var x=q.center,r=q.amount||o.getoptions().zoom.amount,p=o.width(),t=o.height();if(!x){x={left:p/2,top:t/2}}var s=x.left/p,v=x.top/t,u={x:{min:x.left-s*p/r,max:x.left+(1-s)*p/r},y:{min:x.top-v*t/r,max:x.top+(1-v)*t/r}};b.each(o.getaxes(),function(z,c){var d=c.options,b=u[c.direction].min,w=u[c.direction].max,e=d.zoomrange;if(e===false){return}b=c.c2p(b);w=c.c2p(w);if(b>w){var a=b;b=w;w=a}var y=w-b;if(e&&((e[0]!=null&&y<e[0])||(e[1]!=null&&y>e[1]))){return}d.min=b;d.max=w});o.setupgrid();o.draw();if(!q.preventevent){o.getplaceholder().trigger("plotzoom",[o])}};o.pan=function(p){var q={x:+p.left,y:+p.top};if(isnan(q.x)){q.x=0}if(isnan(q.y)){q.y=0}b.each(o.getaxes(),function(s,u){var v=u.options,t,r,w=q[u.direction];t=u.c2p(u.p2c(u.min)+w),r=u.c2p(u.p2c(u.max)+w);var x=v.panrange;if(x===false){return}if(x){if(x[0]!=null&&x[0]>t){w=x[0]-t;t+=w;r+=w}if(x[1]!=null&&x[1]<r){w=x[1]-r;t+=w;r+=w}}v.min=t;v.max=r});o.setupgrid();o.draw();if(!p.preventevent){o.getplaceholder().trigger("plotpan",[o])}};function k(q,p){p.unbind(q.getoptions().zoom.trigger,m);p.unbind("mousewheel",d);p.unbind("dragstart",f);p.unbind("drag",j);p.unbind("dragend",h);if(n){cleartimeout(n)}}o.hooks.bindevents.push(l);o.hooks.shutdown.push(k)}b.plot.plugins.push({init:c,options:a,name:"navigate",version:"1.3"})})(jquery);